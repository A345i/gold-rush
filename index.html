<!DOCTYPE html>
<html>
<head>
    <title>Telegram Mini-App Data</title>
    <style>
        body { font-family: sans-serif; }
        .data-section { margin-bottom: 20px; border: 1px solid #ccc; padding: 10px; }
        .data-section h2 { margin-top: 0; }
        .data-item { margin-bottom: 5px; word-wrap: break-word; }
        .data-key { font-weight: bold; }
        .json-output { background-color: #f0f0f0; padding: 10px; border-radius: 5px; overflow-x: auto; }
    </style>
</head>
<body>

    <h1>Telegram Mini-App Data</h1>

    <div id="data-output">
        <div class="data-section">
            <h2>WebApp Object</h2>
            <div id="webapp-data" class="json-output"></div>
        </div>

        <div class="data-section">
            <h2>WebApp Init Data (Unsafe)</h2>
            <div id="initdata-unsafe-data" class="json-output"></div>
        </div>

        <div class="data-section">
            <h2>WebApp Init Data (Recommended - Validate on Server!)</h2>
            <div id="initdata-data" class="json-output"></div>
        </div>

        <div class="data-section">
            <h2>WebApp Theme Parameters</h2>
            <div id="themeparams-data" class="json-output"></div>
        </div>

        <div class="data-section">
            <h2>WebApp Version & Platform</h2>
            <div id="version-platform-data">
                <div class="data-item"><span class="data-key">Version:</span> <span id="webapp-version"></span></div>
                <div class="data-item"><span class="data-key">Platform:</span> <span id="webapp-platform"></span></div>
            </div>
        </div>

        <div class="data-section">
            <h2>WebApp Viewport Heights</h2>
            <div id="viewport-heights-data">
                <div class="data-item"><span class="data-key">Viewport Height:</span> <span id="viewport-height"></span></div>
                <div class="data-item"><span class="data-key">Viewport Stable Height:</span> <span id="viewport-stable-height"></span></div>
                <div class="data-item"><span class="data-key">Is Expanded:</span> <span id="is-expanded"></span></div>
            </div>
        </div>

        </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Telegram && Telegram.WebApp) {
                const webApp = Telegram.WebApp;

                document.getElementById('webapp-data').textContent = JSON.stringify(webApp, null, 2);
                document.getElementById('initdata-unsafe-data').textContent = JSON.stringify(webApp.initDataUnsafe, null, 2);
                document.getElementById('initdata-data').textContent = JSON.stringify(webApp.initData, null, 2);
                document.getElementById('themeparams-data').textContent = JSON.stringify(webApp.themeParams, null, 2);
                document.getElementById('webapp-version').textContent = webApp.version;
                document.getElementById('webapp-platform').textContent = webApp.platform;
                document.getElementById('viewport-height').textContent = webApp.viewportHeight;
                document.getElementById('viewport-stable-height').textContent = webApp.viewportStableHeight;
                document.getElementById('is-expanded').textContent = webApp.isExpanded;


                console.log("WebApp Object:", webApp); // For debugging in browser console
                console.log("WebApp Init Data (Unsafe):", webApp.initDataUnsafe);
                console.log("WebApp Init Data (Recommended):", webApp.initData);
                console.log("WebApp Theme Params:", webApp.themeParams);
                console.log("WebApp Version:", webApp.version);
                console.log("WebApp Platform:", webApp.platform);
                console.log("Viewport Height:", webApp.viewportHeight);
                console.log("Viewport Stable Height:", webApp.viewportStableHeight);
                console.log("Is Expanded:", webApp.isExpanded);


            } else {
                document.getElementById('data-output').textContent = "Telegram WebApp API is not available. Open this page in Telegram Mini-App.";
            }
        });
    </script>

</body>
</html>